<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ü™ì Jogo da Forca - Dark Mode</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />

  <!-- PyScript CSS -->
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <!-- PyScript JS -->
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>

  <style>
    /* Dark mode b√°sico */
    body {
      background: #121212;
      color: #eee;
      font-family: 'Montserrat', sans-serif;
      text-align: center;
      padding: 2rem 1rem;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      gap: 1.5rem;
    }

    h1 {
      font-weight: 700;
      font-size: 2.8rem;
      margin-bottom: 0.3rem;
      user-select: none;
    }

    #forcaCanvas {
      background: #222;
      border: 2px solid #555;
      border-radius: 8px;
      box-shadow: 0 0 15px #00bcd4a0;
      margin: 0 auto 1rem;
      display: block;
    }

    .forca {
      font-size: 2.5rem;
      letter-spacing: 1.2rem;
      font-weight: 600;
      user-select: none;
      color: #00bcd4;
      text-shadow: 0 0 8px #00bcd4aa;
      min-height: 3rem;
    }

    .letras-erradas {
      color: #ff6e6e;
      font-weight: 600;
      user-select: none;
      min-height: 1.2rem;
    }

    #mensagem {
      font-size: 1.3rem;
      font-weight: 700;
      margin-top: 0.8rem;
      min-height: 1.6rem;
      user-select: none;
      transition: color 0.3s ease;
    }

    input#letra {
      padding: 0.5rem 0.7rem;
      font-size: 1.5rem;
      width: 4rem;
      text-align: center;
      border-radius: 6px;
      border: none;
      outline: none;
      background: #222;
      color: #eee;
      box-shadow: inset 0 0 8px #00bcd480;
      transition: box-shadow 0.3s ease;
      user-select: text;
    }
    input#letra:focus {
      box-shadow: 0 0 15px #00bcd4ff;
      background: #0d0d0d;
    }

    button {
      padding: 0.5rem 1rem;
      font-size: 1.3rem;
      border: none;
      border-radius: 6px;
      background: #00bcd4;
      color: #121212;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    button:hover {
      background: #00a0b8;
    }
    button:disabled {
      background: #555;
      cursor: not-allowed;
    }

    footer {
      margin-top: auto;
      font-size: 0.9rem;
      color: #666;
      user-select: none;
    }
  </style>
</head>
<body>

  <h1>ü™ì Jogo da Forca</h1>

  <canvas id="forcaCanvas" width="250" height="250"></canvas>

  <div class="forca" id="palavra">_ _ _ _</div>

  <p>Letras erradas: <span class="letras-erradas" id="erradas"></span></p>

  <input id="letra" maxlength="1" placeholder="Digite uma letra" autocomplete="off" />
  <button py-click="adivinhar" id="btn-tentar">Tentar</button>

  <p id="mensagem"></p>

  <footer>
    Criado com ‚ù§Ô∏è usando PyScript & Canvas - Hospede no GitHub Pages
  </footer>

  <py-script>
from js import document, window
import random

# Palavras agrupadas por n√≠vel
palavras = {
    "f√°cil": ["casa", "bola", "sol", "pato"],
    "m√©dio": ["livro", "janela", "cachorro", "escola"],
    "dif√≠cil": ["paralelepipedo", "hipopotamo", "laboratorio", "psicologia"]
}

nivel = random.choice(list(palavras.keys()))
palavra = random.choice(palavras[nivel])
erros = []
acertos = ["_" for _ in palavra]
desenho = 0
max_erros = 10

canvas = document.getElementById("forcaCanvas")
ctx = canvas.getContext("2d")

# Fun√ß√£o para desenhar a forca e o boneco, etapa por etapa
def desenhar():
    ctx.clearRect(0, 0, canvas.width, canvas.height)
    ctx.strokeStyle = "#00bcd4"
    ctx.lineWidth = 3

    # Base
    if desenho >= 1:
        ctx.beginPath()
        ctx.moveTo(20, 230)
        ctx.lineTo(230, 230)
        ctx.stroke()
    # Poste vertical
    if desenho >= 2:
        ctx.beginPath()
        ctx.moveTo(50, 230)
        ctx.lineTo(50, 20)
        ctx.stroke()
    # Viga horizontal
    if desenho >= 3:
        ctx.beginPath()
        ctx.moveTo(50, 20)
        ctx.lineTo(180, 20)
        ctx.stroke()
    # Corda
    if desenho >= 4:
        ctx.beginPath()
        ctx.moveTo(180, 20)
        ctx.lineTo(180, 50)
        ctx.stroke()
    # Cabe√ßa
    if desenho >= 5:
        ctx.beginPath()
        ctx.arc(180, 70, 20, 0, 2*3.1416)
        ctx.stroke()
    # Corpo
    if desenho >= 6:
        ctx.beginPath()
        ctx.moveTo(180, 90)
        ctx.lineTo(180, 150)
        ctx.stroke()
    # Bra√ßo esquerdo
    if desenho >= 7:
        ctx.beginPath()
        ctx.moveTo(180, 110)
        ctx.lineTo(140, 130)
        ctx.stroke()
    # Bra√ßo direito
    if desenho >= 8:
        ctx.beginPath()
        ctx.moveTo(180, 110)
        ctx.lineTo(220, 130)
        ctx.stroke()
    # Perna esquerda
    if desenho >= 9:
        ctx.beginPath()
        ctx.moveTo(180, 150)
        ctx.lineTo(140, 190)
        ctx.stroke()
    # Perna direita
    if desenho >= 10:
        ctx.beginPath()
        ctx.moveTo(180, 150)
        ctx.lineTo(220, 190)
        ctx.stroke()

def atualizar():
    document.getElementById("palavra").innerHTML = " ".join(acertos)
    document.getElementById("erradas").innerHTML = ", ".join(erros)

    btn = document.getElementById("btn-tentar")
    input_letra = document.getElementById("letra")

    # Desabilitar bot√£o se jogo acabou
    if desenho >= max_erros or "_" not in acertos:
        btn.disabled = True
        input_letra.disabled = True
    else:
        btn.disabled = False
        input_letra.disabled = False
        input_letra.focus()

def adivinhar(*args):
    global desenho
    letra = str(document.getElementById("letra").value).lower()
    document.getElementById("letra").value = ""

    if not letra.isalpha() or len(letra) != 1:
        document.getElementById("mensagem").innerHTML = "‚ùå Digite uma √∫nica letra v√°lida."
        return

    if letra in acertos or letra in erros:
        document.getElementById("mensagem").innerHTML = f"‚ö†Ô∏è Voc√™ j√° tentou a letra '{letra.upper()}'."
        return

    if letra in palavra:
        for i, char in enumerate(palavra):
            if char == letra:
                acertos[i] = letra
        document.getElementById("mensagem").innerHTML = "üëç Acertou!"
    else:
        erros.append(letra)
        desenho += 1
        desenhar()
        document.getElementById("mensagem").innerHTML = "‚ùå Letra errada."

    atualizar()

    if "_" not in acertos:
        document.getElementById("mensagem").innerHTML = f"üéâ Parab√©ns! Voc√™ venceu! Palavra: {palavra.upper()} (n√≠vel: {nivel})"
    elif desenho >= max_erros:
        document.getElementById("mensagem").innerHTML = f"üíÄ Voc√™ perdeu! A palavra era: {palavra.upper()} (n√≠vel: {nivel})"

# Inicializa desenho e interface
desenhar()
atualizar()

  </py-script>

</body>
</html>

